<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEDË∞ÉËâ≤Áõò</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .color-picker-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        /* Ë∞ÉËâ≤ÁõòÊ†∑Âºè */
        .color-picker-control {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .color-picker-control label {
            display: block;
            margin-bottom: 20px;
            color: #2d3748;
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 0.025em;
        }
        
        .color-wheel-container {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        #colorWheel {
            border-radius: 50%;
            cursor: crosshair;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .color-picker {
            position: absolute;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
        }
        
        .color-info {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        
        .selected-color {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.4);
            background-color: #ffffff;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .color-values {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        .color-value {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #2d3748;
            font-size: 15px;
            font-weight: 600;
            letter-spacing: 0.025em;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="color-picker-container">
        <div class="color-picker-control">
            <label>üé® COLOR:</label>
            <div class="color-wheel-container">
                <canvas id="colorWheel" width="180" height="180"></canvas>
                <div class="color-picker" id="colorPicker"></div>
            </div>
            <div class="color-info">
                <div class="selected-color" id="selectedColor"></div>
            </div>
            <div class="color-values">
                <div class="color-value">RGB: <span id="rgbValue">255, 255, 255</span></div>
                <div class="color-value">HEX: <span id="hexValue">#FFFFFF</span></div>
            </div>
        </div>
    </div>

    <script>
        // Ë∞ÉËâ≤ÁõòÂäüËÉΩ
        const colorWheel = document.getElementById('colorWheel');
        const colorPicker = document.getElementById('colorPicker');
        const selectedColor = document.getElementById('selectedColor');
        const rgbValue = document.getElementById('rgbValue');
        const hexValue = document.getElementById('hexValue');
        const ctx = colorWheel.getContext('2d');
        let currentColor = { r: 255, g: 255, b: 255 };
        
        // ÁªòÂà∂HSVÈ¢úËâ≤ËΩÆ
        function drawColorWheel() {
            const centerX = colorWheel.width / 2;
            const centerY = colorWheel.height / 2;
            const radius = Math.min(centerX, centerY) - 10;
            
            // Ê∏ÖÈô§ÁîªÂ∏É
            ctx.clearRect(0, 0, colorWheel.width, colorWheel.height);
            
            // ‰ΩøÁî®ÂÉèÁ¥†Á∫ßÁªòÂà∂ÂàõÂª∫Âπ≥ÊªëÁöÑÈ¢úËâ≤ËΩÆ
            const imageData = ctx.createImageData(colorWheel.width, colorWheel.height);
            const data = imageData.data;
            
            for (let y = 0; y < colorWheel.height; y++) {
                for (let x = 0; x < colorWheel.width; x++) {
                    const dx = x - centerX;
                    const dy = y - centerY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance <= radius) {
                        // ËÆ°ÁÆóËßíÂ∫¶ÂíåÈ•±ÂíåÂ∫¶
                        let angle = Math.atan2(dy, dx);
                        if (angle < 0) angle += 2 * Math.PI;
                        const hue = (angle / (2 * Math.PI)) * 360;
                        const saturation = Math.min(distance / radius, 1) * 100;
                        // Âõ∫ÂÆö‰∫ÆÂ∫¶‰∏∫50%
                        const lightness = 50;
                        
                        // ËΩ¨Êç¢HSLÂà∞RGB
                        const rgb = hslToRgb(hue, saturation, lightness);
                        
                        const index = (y * colorWheel.width + x) * 4;
                        data[index] = rgb.r;     // Red
                        data[index + 1] = rgb.g; // Green
                        data[index + 2] = rgb.b; // Blue
                        data[index + 3] = 255;   // Alpha
                    } else {
                        // ÂúÜÂΩ¢Â§ñÈÉ®ËÆæ‰∏∫ÈÄèÊòé
                        const index = (y * colorWheel.width + x) * 4;
                        data[index + 3] = 0; // ÈÄèÊòé
                    }
                }
            }
            
            ctx.putImageData(imageData, 0, 0);
        }
         
         // HSLËΩ¨RGB
         function hslToRgb(h, s, l) {
             h /= 360;
             s /= 100;
             l /= 100;
             
             const c = (1 - Math.abs(2 * l - 1)) * s;
             const x = c * (1 - Math.abs((h * 6) % 2 - 1));
             const m = l - c / 2;
             
             let r, g, b;
             
             if (0 <= h && h < 1/6) {
                 r = c; g = x; b = 0;
             } else if (1/6 <= h && h < 2/6) {
                 r = x; g = c; b = 0;
             } else if (2/6 <= h && h < 3/6) {
                 r = 0; g = c; b = x;
             } else if (3/6 <= h && h < 4/6) {
                 r = 0; g = x; b = c;
             } else if (4/6 <= h && h < 5/6) {
                 r = x; g = 0; b = c;
             } else {
                 r = c; g = 0; b = x;
             }
             
             return {
                 r: Math.round((r + m) * 255),
                 g: Math.round((g + m) * 255),
                 b: Math.round((b + m) * 255)
             };
         }
         
         // RGBËΩ¨HEX
         function rgbToHex(r, g, b) {
             return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
         }
         
         // Êõ¥Êñ∞È¢úËâ≤ÊòæÁ§∫
         function updateColorDisplay(color) {
             currentColor = color;
             selectedColor.style.backgroundColor = `rgb(${color.r}, ${color.g}, ${color.b})`;
             rgbValue.textContent = `${color.r}, ${color.g}, ${color.b}`;
             hexValue.textContent = rgbToHex(color.r, color.g, color.b);
             
             // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†ÂõûË∞ÉÂáΩÊï∞Êù•Â§ÑÁêÜÈ¢úËâ≤ÂèòÂåñ
             console.log('Selected color:', color);
         }
         
         // ÊãñÊãΩÁä∂ÊÄÅ
         let isDragging = false;
         
         // Â§ÑÁêÜÈ¢úËâ≤ÈÄâÊã©ÁöÑÈÄöÁî®ÂáΩÊï∞
         function handleColorSelection(e) {
             const rect = colorWheel.getBoundingClientRect();
             const x = e.clientX - rect.left;
             const y = e.clientY - rect.top;
             
             const centerX = colorWheel.width / 2;
             const centerY = colorWheel.height / 2;
             const dx = x - centerX;
             const dy = y - centerY;
             const distance = Math.sqrt(dx * dx + dy * dy);
             const radius = Math.min(centerX, centerY) - 10;
             
             // Âè™Âú®ÂúÜÂΩ¢Âå∫ÂüüÂÜÖÂ§ÑÁêÜ
             if (distance <= radius) {
                 // ËÆ°ÁÆóËßíÂ∫¶ÂíåÈ•±ÂíåÂ∫¶
                 let angle = Math.atan2(dy, dx);
                 if (angle < 0) angle += 2 * Math.PI;
                 const hue = (angle / (2 * Math.PI)) * 360;
                 const saturation = Math.min(distance / radius, 1) * 100;
                 const lightness = 50;
                 
                 const color = hslToRgb(hue, saturation, lightness);
                 updateColorDisplay(color);
                 
                 // Êõ¥Êñ∞ÈÄâÊã©Âô®‰ΩçÁΩÆ
                 colorPicker.style.left = x + 'px';
                 colorPicker.style.top = y + 'px';
                 
                 return true;
             }
             return false;
         }
         
         // Èº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂
         colorWheel.addEventListener('mousedown', function(e) {
             if (handleColorSelection(e)) {
                 isDragging = true;
                 colorWheel.style.cursor = 'grabbing';
             }
         });
         
         // Èº†Ê†áÁßªÂä®‰∫ã‰ª∂
         colorWheel.addEventListener('mousemove', function(e) {
             if (isDragging) {
                 handleColorSelection(e);
             } else {
                 // Ê£ÄÊü•Èº†Ê†áÊòØÂê¶Âú®È¢úËâ≤ËΩÆÂÜÖ
                 const rect = colorWheel.getBoundingClientRect();
                 const x = e.clientX - rect.left;
                 const y = e.clientY - rect.top;
                 const centerX = colorWheel.width / 2;
                 const centerY = colorWheel.height / 2;
                 const radius = Math.min(centerX, centerY) - 10;
                 const dx = x - centerX;
                 const dy = y - centerY;
                 const distance = Math.sqrt(dx * dx + dy * dy);
                 
                 if (distance <= radius) {
                     colorWheel.style.cursor = 'grab';
                 } else {
                     colorWheel.style.cursor = 'default';
                 }
             }
         });
         
         // Èº†Ê†áÊä¨Ëµ∑‰∫ã‰ª∂
         colorWheel.addEventListener('mouseup', function() {
             isDragging = false;
             colorWheel.style.cursor = 'grab';
         });
         
         // Èº†Ê†áÁ¶ªÂºÄ‰∫ã‰ª∂
         colorWheel.addEventListener('mouseleave', function() {
             isDragging = false;
             colorWheel.style.cursor = 'default';
         });
         
         // Â§ÑÁêÜÈ¢úËâ≤ËΩÆÁÇπÂáªÔºà‰øùÊåÅÂêëÂêéÂÖºÂÆπÔºâ
         colorWheel.addEventListener('click', function(e) {
             if (!isDragging) {
                 handleColorSelection(e);
             }
         });
         
         // RGBËΩ¨HSL
         function rgbToHsl(r, g, b) {
             r /= 255;
             g /= 255;
             b /= 255;
             
             const max = Math.max(r, g, b);
             const min = Math.min(r, g, b);
             let h, s, l = (max + min) / 2;
             
             if (max === min) {
                 h = s = 0; // achromatic
             } else {
                 const d = max - min;
                 s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                 
                 switch (max) {
                     case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                     case g: h = (b - r) / d + 2; break;
                     case b: h = (r - g) / d + 4; break;
                 }
                 h /= 6;
             }
             
             return { h: h * 360, s: s * 100, l: l * 100 };
         }
         
         // Ê†πÊçÆHSLÂÄºÊõ¥Êñ∞Ë∞ÉËâ≤ÁõòÈÄâÊã©Âô®‰ΩçÁΩÆ
         function updateColorPickerPosition(r, g, b) {
             const hsl = rgbToHsl(r, g, b);
             const centerX = colorWheel.width / 2;
             const centerY = colorWheel.height / 2;
             const radius = Math.min(centerX, centerY) - 10;
             
             // ËÆ°ÁÆóËßíÂ∫¶ÂíåË∑ùÁ¶ª
             const angle = (hsl.h / 360) * 2 * Math.PI;
             const distance = (hsl.s / 100) * radius;
             
             // ËÆ°ÁÆó‰ΩçÁΩÆ
             const x = centerX + Math.cos(angle) * distance;
             const y = centerY + Math.sin(angle) * distance;
             
             // Êõ¥Êñ∞ÈÄâÊã©Âô®‰ΩçÁΩÆ
             colorPicker.style.left = x + 'px';
             colorPicker.style.top = y + 'px';
         }
         
         // ÂàùÂßãÂåñË∞ÉËâ≤Áõò
         drawColorWheel();
         
         // ËÆæÁΩÆÂàùÂßãÈÄâÊã©Âô®‰ΩçÁΩÆÔºà‰∏≠ÂøÉÁôΩËâ≤Ôºâ
         colorPicker.style.left = (colorWheel.width / 2) + 'px';
         colorPicker.style.top = (colorWheel.height / 2) + 'px';
         updateColorDisplay(currentColor);
         
         // ÂØºÂá∫ÂáΩÊï∞‰æõÂ§ñÈÉ®‰ΩøÁî®
         window.ColorPicker = {
             getCurrentColor: () => currentColor,
             setColor: (r, g, b) => {
                 const color = { r, g, b };
                 updateColorDisplay(color);
                 updateColorPickerPosition(r, g, b);
             },
             onColorChange: null // ÂèØ‰ª•ËÆæÁΩÆÂõûË∞ÉÂáΩÊï∞
         };
         
         // Â¶ÇÊûúËÆæÁΩÆ‰∫ÜÂõûË∞ÉÂáΩÊï∞ÔºåÂú®È¢úËâ≤ÊîπÂèòÊó∂Ë∞ÉÁî®
         const originalUpdateColorDisplay = updateColorDisplay;
         updateColorDisplay = function(color) {
             originalUpdateColorDisplay(color);
             if (window.ColorPicker.onColorChange) {
                 window.ColorPicker.onColorChange(color);
             }
         };
    </script>
</body>
</html>